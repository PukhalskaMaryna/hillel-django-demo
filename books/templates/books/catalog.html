<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <title>–ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 720px; margin: 3rem auto; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { padding: .5rem; border-bottom: 1px solid #ddd; text-align: left; }
    small { color:#666; }
  </style>
</head>
<body>
  <h1>–ö–∞—Ç–∞–ª–æ–≥ üìö</h1>
  <form method="get" style="margin:.5rem 0;">
  <input type="text" name="q" value="{{ q }}" placeholder="–ü–æ—à—É–∫ –∑–∞ –Ω–∞–∑–≤–æ—é" />
  <button type="submit">–ó–Ω–∞–π—Ç–∏</button>
  {% if q %}<small>–ó–Ω–∞–π–¥–µ–Ω–æ: {{ total }}</small>{% endif %}
  </form>

  <nav style="margin-top:1rem; display:flex; gap:.5rem; align-items:center;">
  {% if page_obj.has_previous %}
    <a href="?q={{ q }}&page=1">¬´ –ü–µ—Ä—à–∞</a>
    <a href="?q={{ q }}&page={{ page_obj.previous_page_number }}">‚Äπ –ü–æ–ø–µ—Ä–µ–¥–Ω—è</a>
  {% endif %}

  <span>–°—Ç–æ—Ä—ñ–Ω–∫–∞ {{ page_obj.number }} –∑ {{ page_obj.paginator.num_pages }}</span>

  {% if page_obj.has_next %}
    <a href="?q={{ q }}&page={{ page_obj.next_page_number }}">–ù–∞—Å—Ç—É–ø–Ω–∞ ‚Ä∫</a>
    <a href="?q={{ q }}&page={{ page_obj.paginator.num_pages }}">–û—Å—Ç–∞–Ω–Ω—è ¬ª</a>
  {% endif %}
</nav>


  {% if books %}
    <table>
      <thead>
        <tr><th>–ù–∞–∑–≤–∞</th><th>–¶—ñ–Ω–∞</th><th><small>–î–æ–¥–∞–Ω–æ</small></th></tr>
      </thead>
      <tbody>
        {% for b in books %}
          <tr>
            <td>
              <a href="{% url 'book_detail' slug=b.slug %}">
                {{ b.title }}
              </a>
            </td>
            <td>{{ b.price }} –≥—Ä–Ω</td>
            <td><small>{{ b.created_at|date:"d.m.Y H:i" }}</small></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>–ü–æ–∫–∏ –ø–æ—Ä–æ–∂–Ω—å–æ. –î–æ–¥–∞–π –ø–µ—Ä—à—ñ –∫–Ω–∏–≥–∏ —á–µ—Ä–µ–∑ <a href="/admin/">–∞–¥–º—ñ–Ω–∫—É</a>.</p>
  {% endif %}

  <p><a href="/books/">–ù–∞ –≥–æ–ª–æ–≤–Ω—É –∫–Ω–∏–≥–∞—Ä–Ω—ñ</a></p>
</body>
</html>
